"use strict";$(function(){function e(e){$("nav#sidebar li.selected, nav#sidebar li.active").removeClass("active selected"),$(e).parent().hasClass("has-children")?($(e).parent().addClass("selected"),$(e).siblings("ul").children(":first-child").addClass("active")):$(e).closest(".has-children").length?$(e).parent().addClass("active").closest(".has-children").addClass("selected"):$(e).parent().addClass("selected")}var t=$(window).height(),s=$(window).width();$(window).resize(function(){t=$(window).height(),s=$(window).width()}),$("li.has-children").on("click",function(e){e.preventDefault(),$(this).parent().find(".selected").not(this).removeClass("selected"),$(this).toggleClass("selected")}).on("mouseenter",function(e){e.preventDefault(),$(this).addClass("hover")}).on("mouseleave",function(e){e.preventDefault(),$(this).removeClass("hover")}),$("body").hasClass("home")&&$(window).scroll(function(){var e=$(window).scrollTop();e>$("#header > .logo").position().top?$("header").addClass("logo-visible"):$("header").removeClass("logo-visible")}),$("nav#sidebar li a").on("click",function(t){t.preventDefault(),t.stopPropagation();var s=$(this).attr("href");$(this).parent().hasClass("has-children")?s=$(this).siblings("ul").children(":first-child").children("a").attr("href"):$(this).closest(".has-children").length||(s="/course/"),e(this),$.get(s,function(e){$("#content").replaceWith(e.content),document.title=e.title+" | Defend the Web",window.history.pushState({html:e.content,url:s,pageTitle:document.title},"",s)})}),window.onpopstate=function(t){console.log(t),t.state?($("#content").html(t.state.html),document.title=t.state.pageTitle+" | Defend the Web",e($('nav#sidebar a[href="'+t.state.url+'"]'))):document.location.reload()}});